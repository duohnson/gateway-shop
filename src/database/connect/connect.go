package connect

import (
	"App/src/configs"
	"App/src/database/querys"
	"database/sql"
	"fmt"
	"log"

	_ "github.com/go-sql-driver/mysql"
)

var DB *sql.DB

func ConnectDB() {
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//===========//
	var err error
	//===========//
	//
	//
	//___________________OPEN_CONECTION_WHIT_MySQL_______________________//
	//==============================================================================================================================================================//
	//-------------------------------------------------------------------------------------------------------------------------------------------------------------//
	DB, err = sql.Open(configs.SGBD, fmt.Sprintf("%s:%s@tcp(%s:%s)/%s?", configs.ADMIN_DB, configs.PASSWORD_DB, configs.HOST_DB, configs.PORT_DB, configs.DB_NAME))
	//-------------------------------------------------------------------------------------------------------------------------------------------------------------//
	//
	//-----------------//
	if err != nil {
		//------------//
		log.Fatal(err)
		//------------//
	}
	//-----------------//
	//=================//
	//
	//=======================================//
	//_________CREATE TABLE OF TEST__________//
	//=======================================//
	//---------------------------------------//
	_, err = DB.Exec(querys.CreateTableOfTest)
	//---------------------------------------//
	//
	//------------------//
	if err != nil {
		//------------//
		log.Fatal(err)
		//-----------//
	}
	//------------------//
	//========================================//
	//
	//===============================//
	//______________LOGS_____________//
	//===============================//
	//-------------------------------//
	fmt.Println("Table test created")
	//-------------------------------//
	//
	//-------------------------------//
	fmt.Println("Opne Connection")
	//-------------------------------//
	//===============================//
	///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}
